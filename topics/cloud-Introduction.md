[//]: # (title: Introduction)


<!-- The document structure should completely adhere to the official documentation repositories -->
## Introduction

Studying Qodana reports generated by multiple Qodana instances can become a tedious task 
when your project is developed by several teams that work independently, and each team uses its own IT infrastructure 
and virtual private networks. Apparently, this situation calls for a centralized solution that would be able to gather
information about code quality across the project(s) in the real-time mode and display it in a consolidated and 
digestible form.

**Qodana Cloud** is a cloud-based solution that helps you see the progress in your project from the single point. 
And this is the basic difference between Qodana and Qodana Cloud: while Qodana analyzes your code and generates reports 
on-site, this information can then be forwarded to Qodana Cloud. 

## Qodana Cloud use-cases

Below is a short list of use-cases when Qodana Cloud comes in handy.

**You are responsible for product quality.** 
In case your primary job is management rather than coding, you should know the answer to the "How things are going?" 
question at any time. You can track the development process using reports from version control systems, bug trackers, 
and during meetings. Still, monitoring of software quality is missing, and you can only refer to conclusions from your 
team leaders or architects. Looking at the code cannot help you in this case. Also, collecting information about quality 
code can be a tedious task. You can use Qodana to automate the quality assessment process, and Qodana Cloud will allow 
you to see the overall picture.

**You work for an outsourcing company that resells IT services.**
Your company may deal with lots of various projects from different fields, which makes it difficult to be 
expert in all of them. Oftentimes, software products are developed on the customers' side, but quality monitoring is 
still part of your work. Using Qodana Cloud as an aggregator of Qodana reports will definitely help you in this case. 

**Your company relies on open source software.** Modern software products often resort to open source libraries to 
perform specific tasks. This approach saves companies time and money. Unfortunately, nobody could assure you that their 
code is free of bugs, and their licenses will meet your needs. Also, you cannot control the process of open 
source development. Using Qodana, you can monitor the quality of open source software used in your project, and 
the License Audit linter will inform you about its licenses. But if your project uses tens or hundreds of free libraries, 
this becomes a challenging task. Using Qodana Cloud allows you to aggregate tons of reports under a single roof.

**Your company purchases software from third-party vendors.** In case your company buys software from the outside, you 
still need to make sure that its quality meets your needs. Using Qodana will give you detailed reports generated 
by tried-and-tested software from JetBrains, and Qodana Cloud will aggregate reports from all Qodana instances.

<!-- I can create here Quickstart or Getting started on how to start working with Qodana Cloud -->

## Get access to Qodana Cloud

<!-- Link to the Overview a report section should be added here -->
<!-- I need to read more about the voice of documentation -->

You can get access to Qodana Cloud via an invitation link. After you click the invitation link, the Qodana Cloud 
homepage will open. Here, you can overview reports of publicly available and demo projects.

<img src="qc-viewer-role.png" alt="Qodana Cloud UI overview" width="706" border-effect="line" title="Qodana Cloud UI overview"/>

To create an account at Qodana Cloud, click the **Log in** button in the upper-right corner of the UI.

<img src="qc-viewer-role-login.png" alt="Qodana Cloud login" width="706" border-effect="line" title="Qodana Cloud login"/>

On the **Log in** page, you can create a 
<a href="https://account.jetbrains.com/login">JetBrains account</a>
or use the existing account instead. Once you complete this step, choose the account type, either **commercial** or
**personal**.

If you choose the commercial type of account, you will be able to create a business account or join the existing account 
of your company. If you plan to use Qodana Cloud for personal purposes, choose the personal account.

<!-- Manage organizations should be linked to the section -->
For more information about organizations in Qodana Cloud, see the **Manage organizations** section.

> Using a personal account, you will not be able to bind your personal account to a company or perform any actions on
> behalf of your company. Personal accounts are always associated with the **My organization** company, which cannot be
> changed.

<!-- Further login steps should be described here -->

<!-- More details about creating and joining should be supplied here -->
<!-- Company and commercial accounts should be taken care of -->
<!-- Login from a corporate email should be described here -->
<!-- Do I need to describe here how to create a JBA?-->
<!-- Code Inspection -->
<!-- I need to describe Publisher and explain how to pull report data to Qodana Cloud. See minutes 26-27 of the video-->
<!-- Publisher can be shipped along with Qodana or separately from it -->
<!-- Two workflows for separated report sending and in combination with code analysis should be described -->
<!-- Users can be assigned the permission for watching a specific report -->
<!-- I need to create a list of entities described in this document -->
<!-- Short introduction needs to be added to each section. This introduction should explain the design of the section-->

<!-- Registration at or registration in? Need to double-check it -->

Use the **Log in** button to log into Qodana Cloud.

Depending on your registration at Qodana Cloud, a specific role will be assigned to your account. For more details, see 
the **User roles** section.

## User roles

<!-- Roles need to added here -->

The role assigned to you will depend on your registration:

* [You created a personal account](#administrator)
* [You created a commercial account for your company](#administrator)
* [You joined the existing company after creating a commercial account](#editor)

### Administrator

If you just created a personal account at Qodana Cloud, or a commercial account for a company that did not previously 
exist, you will join Qodana Cloud as **administrator**. The basic administrator functionalities include:

* Overviewing Qodana reports
* Managing Qodana Cloud projects
* Managing Qodana Cloud project groups
* Managing account, including complete deletion from Qodana cloud
* Managing subscriptions

If you have a [commercial](#get-access-to-qodana-cloud) account, you will also be able to:

* Invite new users to join your company in Qodana Cloud
* Manage the existing members of your company
* Group the existing users and reports
* Manage company-related settings

### Editor

If you just joined the existing company, your role will be **editor** and you will be able to:

* Overview Qodana reports
* Manage Qodana Cloud projects
* Manage Qodana Cloud project groups
* Manage your account, including the complete deletion from Qodana cloud
* Manage subscriptions

Any editor can be promoted to the [administrator](#administrator) role, see the 
[Change user roles](#Change+user+roles) section.

## Overview a report

Below is an image containing a report.

<img src="qc-report-intro.png" alt="Qodana Cloud report sample" width="706" border-effect="line" title="Qodana Cloud report sample"/>

This report contains the following information fields (listed from top to bottom):

<!-- Add a link to report grouping section below, 15th minute of video -->

* Project name and location. Location is displayed if a project is hosted on a publicly available repository like GitHub
* Project URL
* Branch name, if this information is accessible. This field is configurable, so you can upload information about
  different branches or use a different criteria for grouping reports
* Commit hash, if this information is accessible
* Date and time when a repository was analyzed
* Bar chart reflects the problems found during the five recent code analyses. The rightmost bar displays the
  latest inspection results.

<!-- Is it really a diagram of problems? -->
<!-- Grouping reports using Branch name and Commit hash should be described, the 40th minute of the video is about it -->
<!-- Merging may be needed when a single repository uses several programming languages and it's better if it will have a single report-->


<!-- Types of reports:single and aggregated should be described here -->

Qodana Cloud displays Qodana reports either in a separate or in a merged (aggregated) forms.

Merged reports display all problems that their reports contained. Repeating problems will be duplicated.

Project without reports can also be deleted.

### Generate a token

<!-- The token functionality needs to be described here too -->

Tokens are used for uploading Qodana reports to Qodana Cloud. 
After generation, this token needs to be added as a Qodana parameter to upload it to Qodana Cloud.  

<!-- While running Qodana, this needs to be run as the --token parameter -->

> If Qodana reports have the same branch name and commit time, they are displayed as a single report. If a 
> branch name is the same but commit time varies, they will be displayed as separate reports. 
> 
> In case several reports are related to the same commit hash, they are displayed as a single report.

To see the detailed report about a specific analysis, click the bar in the bar chart. This will open 
the **Report** page.

<img src="qc-overview-report-1.png" alt="Overviewing a Qodana report" width="706" border-effect="line" title="Overviewing a Qodana report"/>

For more details about Qodana reports, see the 
<a href="https://www.jetbrains.com/help/qodana/ui-overview.html">User interface overview</a> section of the Qodana 
documentation.

## Manage your account

<!-- What page will this link be accessible from? -->

To manage your account, click the **Settings** menu point to open the **Settings** page. 

<img src="qc-settings-setting-menu.png" alt="Settings menu" width="460" border-effect="line" title="Settings menu"/>

The **Settings** page consists of the following tabs:

<!-- These sections need to be referenced -->

* Subscription plan
* Organizations
* Profile settings
* Reports
* Logs

By default, you will see the settings of the **Subscription plan** tab.

### Subscription plan

You can manage your subscription using the **Subscription plan** section.

<!-- A screenshot needs to be added here based on the answers to the comments in use cases -->

<img src="qc-settings-subscription-plan.png" alt="Subscription plan" width="706" border-effect="line" title="Subscription plan"/>

Here, you can overview and upgrade your subscription plan.

### Organizations

<!-- The Admin role should be specified here because there are several admin roles here -->

<!-- This needs to be reviewed once more -->

<!-- This behavior needs to be supplied with screenshots -->
Organizations are a way for giving peer users the access to your projects and project groups based on the company
parameter. Each organization can have several projects and project groups, and several users can be associated with it.
Each Qodana Cloud user can be a member of several organizations.

<!-- This description needs to be extended based on the answers from use-cases -->

During the registration, Qodana Cloud can suggest you to become a member of the organization based on your Email domain.
You can confirm this action.

If the organization did not exist before, you can create it.

You can also send a request for joining an existing organization.

The **Organizations** tab of the **Settings** section contains a list of organizations your account is associated with.

<img src="qc-settings-manage-organizations.png" alt="Managing organizations" width="706" border-effect="line" title="Managing organizations"/>

If you have the **Admin** role in Qodana Cloud, you can create and delete organizations.
You can also manage members and visibility of the existing organizations:

<!-- This list should be referenced -->

* Add new members
* Delete members
* Modify organization's name, description, and logo

If you have a personal account, you have the **Admin** role, but the **My organization** company is automatically
assigned to your account, so you cannot configure it or add any other organizations.

#### Add new members

<!-- The link should be double-checked and reviewed before submitting -->
To add new members to your organization, you can click the **Invite** button. 

<img src="qc-add-new-members.png" alt="Adding new members" width="460" border-effect="line" title="Adding new members"/>

You can send invitations based on the email addresses. 

### Profile settings

In this tab, you can configure: 

* Your username
* Your email
* Change the look and feel of your account UI
* Delete your Qodana Cloud account

<img src="qc-settings-profile-settings.png" alt="Profile settings" width="706" border-effect="line" title="Profile settings"/>

### Reports

This tab contains the list of reports uploaded to your Qodana Cloud.

<!-- What does pin do here? -->
<!-- What is the purpose of this section? -->

<img src="qc-settings-reports.png" alt="List of Qodana reports" width="706" border-effect="line" title="List of Qodana reports"/>

### Logs

<!-- What else can I add about this section? -->

This tab collects log entries related to user and system actions. 

<img src="qc-settings-logs.png" alt="The Logs section" width="706" border-effect="line" title="The Logs section"/>


## Manage users

<!-- Introduction about company users is needed here -->
<!-- I need to extend the number of user roles -->

### Change user roles

You can promote any editor account to administrator. To do this, follow these steps:

1. Navigate to the **Users** page.
2. On the **Users** page, click the user entry you want to modify. This will open the **User** pane containing account
   information of the specific user.
3. On the **User** pane, change the **Role** field from *Editor* to *Administrator*. Click **Save**.

## Manage projects

To create a new project, on the **Projects** page click the **New project** button. 

After creating a new project, you can rename or delete it. To be able to associate your code to the project, click the 
**Generate token** button and copy the token.

To forward inspection results to a specific project in Qodana Cloud, first download the latest Qodana Publisher image:

<!-- The docker pull command should be provided here with the actual Publisher Docker repo -->

Run the following Docker command to forward the latest report to Qodana Cloud:

```shell

docker run -v <report_directory>:/data/report/ <Qodana_publisher_image> --token <project_token_from_Qodana_cloud>
```

<!-- I need to think whether I will specify here all parameters -->

> A token is not bound to a user.

You can also add a project to a project group by clicking the **Add to group** button. 

### Project reports

Each project contains several Qodana reports. 

Each report contains the result of a Qodana inspection.

You can observe any report related to a specific project by clicking the diagram below the project description. 
Here, you can observe reports in the descending order, from the latest to previous reports. This diagram reflects the
project evolution and dynamics in problems detected by Qodana. 

In case your user has the **Administrator** role, you can delete any report from the project. The deleted report can
be recovered within 3 (three) months from the deletion date.

> In case a project contains two identical reports, the latest commit overwrites the preceding commit, so only the last
> commit is displayed in the report. 

In case two different tools forward data within a single commit to Qodana Cloud, two reports will be merged into a 
single report. 



### Project groups

You can group several projects into a project group. Here are the basic advantages of using project groups:

<!-- What are the advantages of using project groups? -->

* You can group a multitude of projects into a single group to provide a convenient way for navigation
* You can group various projects between groups

To create a project group, click the **Create project group** button. This will open the list of projects that can
be grouped. On this page, select the projects you would like to make a group of. 

New projects are available in the **Project groups** section. To observe the projects that are associated to a specific
group, click that group. This will expand the group and demonstrate 

To modify a project group, click the **Modify** button of the specific project group. Here, you can modify the group 
name, and add or delete projects from this group. 

To delete the group, click the **Delete** button. This action will delete the group, and move all the projects that were
previously related to that group back to the organization thus making them ungrouped. 


### Forwarding reports to Qodana Cloud

<!-- Publisher should be described here -->

### Delete users from the company



## Creating projects and groups


## Grouping users and reports



## Thoughts from meetings
Project group:

Personal account and commercial accounts
And two types of users

I need to document all workflows based on the use-cases.

Projects should be separated by projects.  Group of projects can be used as well.
Projects or teams should be hierarchical. Neither teams, nor projects

Reports are sent based on a token.

Groups will be used like Idea's group.

I need to document that admin users can create other admin users. But there are no editors here.

<!-- All organizations should be renamed to the commercial account-->
<!-- Add here how to bind organization name to the account-->
<!-- I think permissions need to be grouped into an ACL table-->
<!-- I need to clarify what projects and groups are-->